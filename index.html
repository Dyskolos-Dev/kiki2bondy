<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiki de Bondy - Un rêve inachevé</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button class="theme-toggle" id="theme-toggle" title="Changer de thème">🌙</button>
    <button class="kiki-btn" id="kiki-btn">Fais apparaître Kiki !</button>
    <audio id="pakpak-audio" src="src/pakpak.mp3" preload="auto"></audio>
    <div class="container">
        <img src="src/kiki.jpg" alt="Photo de Kiki de Bondy" class="profil-kiki">
        <h1>L'histoire de Kiki de Bondy</h1>
        <hr class="story-separator">
        <section class="intro">
            <h2 class="section-title">Le rêve de Kiki</h2>
            <p>Kiki, surnommé <strong>Kiki de Bondy</strong>, a toujours rêvé de devenir professeur. Il passait ses journées à étudier, à imaginer sa vie devant une classe, à transmettre son savoir.</p>
        </section>
        <section class="chute">
            <h2 class="section-title">La désillusion</h2>
            <p>Il voulait une vie pleine de rebondissements et espérait briller dans tout ce qu'il entreprenait. Mais, après réflexion et face à ses difficultés dans chaque domaine, Kiki s'est peu à peu replié sur lui-même.</p>
            <p>On raconte qu'il traîne désormais de bar en bar dans Lyon, et qu'on l'aurait même aperçu au PMU de la place Carnot à 6h du matin.</p>
        </section>
        <section class="rejet">
            <h2 class="section-title">Un manque de style ?</h2>
            <p>Malgré tous ses efforts, Kiki n'a jamais réussi à atteindre son rêve. On lui reprochait son manque de style, son originalité qui ne rentrait pas dans les cases.</p>
        </section>
        <hr class="story-separator">
        <section class="manifestation">
            <h2 class="section-title">La révolte</h2>
            <p>Déçu mais pas abattu, Kiki a décidé de faire entendre sa voix autrement. Le <strong>10 septembre</strong>, il descend dans la rue pour manifester, défendre ses convictions et revendiquer le droit de rêver.</p>
            <p class="slogan">"Même sans style, j'ai le droit de rêver !"</p>
            <p class="date">10 septembre - Bondy</p>
        </section>
    </div>
    <script>
    // Kiki apparition logic
    const kikiBtn = document.getElementById('kiki-btn');
    const audio = document.getElementById('pakpak-audio');
    let kikiInterval = null;
    function randomBetween(a, b) {
        return Math.random() * (b - a) + a;
    }
    function spawnKiki() {
        // Create Kiki image
        const img = document.createElement('img');
        img.src = 'src/kiki.png';
        img.alt = 'Kiki';
        img.className = 'kiki-float';
        // Random start position
        const vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
        const vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        const size = randomBetween(60, 120);
        img.style.width = size + 'px';
        img.style.height = size + 'px';
        img.style.left = randomBetween(0, vw - size) + 'px';
        img.style.top = randomBetween(0, vh - size) + 'px';
        // Random animation duration and direction
        const duration = randomBetween(8, 18); // plus long pour tourner
        const rotate = Math.random() > 0.5 ? 'kiki-rotate' : 'kiki-rotate-rev';
        img.style.animation = `${rotate} ${duration}s linear infinite, kiki-move 27s linear forwards`;
        document.body.appendChild(img);
        // Remove after 27s
        setTimeout(() => {
            img.remove();
        }, 27000);
    }

    kikiBtn.addEventListener('click', () => {
        if (kikiInterval) return; // Empêche plusieurs intervalles
        // Play sound en boucle
        const audio = document.getElementById('pakpak-audio');
        audio.currentTime = 0;
        audio.loop = true;
        audio.play();
        spawnKiki(); // Spawn immédiat
        kikiInterval = setInterval(() => {
            spawnKiki();
        }, 1200); // Une nouvelle image toutes les 1.2s
        // Arrête après 27s
        setTimeout(() => {
            clearInterval(kikiInterval);
            kikiInterval = null;
            audio.pause();
            audio.currentTime = 0;
            audio.loop = false;
        }, 27000);
    });
        const btn = document.getElementById('theme-toggle');
        const body = document.body;
        function setTheme(dark) {
            if (dark) {
                body.classList.add('dark-theme');
                btn.textContent = '☀️';
            } else {
                body.classList.remove('dark-theme');
                btn.textContent = '🌙';
            }
        }
        // Initial theme (light)
        setTheme(false);
        btn.addEventListener('click', () => {
            setTheme(!body.classList.contains('dark-theme'));
        });
</script>
        <footer class="footer">
            Made with <span class="heart">❤️</span> by <a href="https://dyskolos.fr" target="_blank" rel="noopener" class="footer-link">Dyskolos_</a>
        </footer>
</body>
</html>